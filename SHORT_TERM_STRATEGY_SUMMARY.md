# ğŸš€ ë‹¨ê¸°ë§¤ë§¤ ìµœì í™” ì „ëµ ì‹œìŠ¤í…œ ì™„ì„± ë³´ê³ ì„œ

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

í•œíˆ¬ KIS APIì™€ DART APIë¥¼ í™œìš©í•œ **ë‹¨ê¸°ë§¤ë§¤ íŠ¹í™” íŠ¸ë ˆì´ë”© ì‹œìŠ¤í…œ**ì„ ì„±ê³µì ìœ¼ë¡œ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ **2-3íšŒ/ì¼ ê±°ë˜**, **ì†Œí˜•ì£¼/ì¤‘í˜•ì£¼ íŠ¹í™”**, **í…Œë§ˆì£¼ ê°ì§€**, **1-7ì¼ ë³´ìœ ê¸°ê°„**ì— ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

## ğŸ¯ í•µì‹¬ íŠ¹ì§•

### 1. ê±°ë˜ ë¹ˆë„ ì œí•œ
- **í•˜ë£¨ ìµœëŒ€ 3íšŒ ê±°ë˜**ë¡œ ê³¼ë§¤ë§¤ ë°©ì§€
- ì¼ì¼ ê±°ë˜ í•œë„ ìë™ ê´€ë¦¬
- ê±°ë˜ ê°„ê²© ìµœì í™”

### 2. ì¢…ëª© ì„ ë³„ ìµœì í™”
- **ì†Œí˜•ì£¼ (1000ì–µì›) ~ ì¤‘í˜•ì£¼ (5ì¡°ì›)** íŠ¹í™”
- ëŒ€í˜•ì£¼ ì œì™¸ë¡œ ë³€ë™ì„± í™œìš©
- ì‹œê°€ì´ì•¡ ê¸°ë°˜ ìë™ í•„í„°ë§

### 3. ë³´ìœ ê¸°ê°„ ê´€ë¦¬
- **ìµœì†Œ 1ì¼, ìµœëŒ€ 7ì¼** ë³´ìœ 
- ë¹ ë¥¸ íšŒì „ìœ¼ë¡œ ë¦¬ìŠ¤í¬ ìµœì†Œí™”
- í‰ê·  ë³´ìœ ê¸°ê°„ ì¶”ì 

### 4. í…Œë§ˆì£¼ ë™ë°˜ìƒìŠ¹ ê°ì§€
- ì •ì±…/ì´ìŠˆ ê¸°ë°˜ í…Œë§ˆ ê°ì§€
- ë™ë°˜ìƒìŠ¹ íŒ¨í„´ ë¶„ì„
- í…Œë§ˆ ëª¨ë©˜í…€ ë¶€ìŠ¤íŠ¸

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ëµ êµ¬ì„± (ê°€ì¤‘ì¹˜ ê¸°ë°˜)
1. **ë‰´ìŠ¤ ëª¨ë©˜í…€ (40%)**: ì‹¤ì‹œê°„ ë‰´ìŠ¤ ê°ì„±ë¶„ì„ + DART ê³µì‹œ
2. **ê¸°ìˆ ì  íŒ¨í„´ (30%)**: ì°¨íŠ¸ íŒ¨í„´ + ê¸°ìˆ ì  ì§€í‘œ
3. **í…Œë§ˆ ë¡œí…Œì´ì…˜ (20%)**: ì„¹í„°ë³„ ëª¨ë©˜í…€ + ë™ë°˜ìƒìŠ¹ ê°ì§€
4. **ë¦¬ìŠ¤í¬ ê´€ë¦¬ (10%)**: í¬ì§€ì…˜ ì‚¬ì´ì§• + ì†ì ˆ/ìµì ˆ

### ë°ì´í„° ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
```
ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘ â†’ ì „ì²˜ë¦¬ â†’ ì‹ í˜¸ ìƒì„± â†’ í’ˆì§ˆ í‰ê°€ â†’ ë¦¬ìŠ¤í¬ ê´€ë¦¬ â†’ ìµœì¢… ì‹ í˜¸
```

## ğŸ“Š êµ¬í˜„ëœ ê¸°ëŠ¥

### 1. ìƒˆë¡œìš´ ì „ëµ ëª¨ë“ˆ
- **`strategy/short_term_optimized.py`**: í†µí•© ìµœì í™” ì „ëµ
- **ì‹ í˜¸ í’ˆì§ˆ í‰ê°€**: ML ê¸°ë°˜ ì‹ í˜¸ í’ˆì§ˆ ì ìˆ˜
- **í…Œë§ˆ íŒ¨í„´ ê°ì§€**: ë™ë°˜ìƒìŠ¹ íŒ¨í„´ ë¶„ì„
- **ì†Œí˜•ì£¼/ì¤‘í˜•ì£¼ í•„í„°ë§**: ì‹œê°€ì´ì•¡ ê¸°ë°˜ ìë™ ì„ ë³„

### 2. ì„œë¹„ìŠ¤ ë ˆì´ì–´ í™•ì¥
- **`service/query_service.py`**: ìµœì í™” ì „ëµ ë¶„ì„ ë©”ì„œë“œ ì¶”ê°€
- **í†µí•© ë¶„ì„**: ëª¨ë“  ì „ëµì„ ì¡°í•©í•œ ì¢…í•© ë¶„ì„
- **ì„±ê³¼ ì§€í‘œ**: ì‹¤ì‹œê°„ ì„±ê³¼ ì¶”ì 

### 3. CLI ì¸í„°í˜ì´ìŠ¤ ì—…ë°ì´íŠ¸
- **`main.py`**: ìµœì í™” ì „ëµ ëª…ë ¹ì–´ ì¶”ê°€
- **ë¶„ì„ ëª…ë ¹ì–´**: `--strategy optimized`
- **ë°±í…ŒìŠ¤íŒ…**: ìµœì í™” ì „ëµ ë°±í…ŒìŠ¤íŠ¸ ì§€ì›

### 4. í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œ
- **`test_optimized_strategy_simple.py`**: ì „ëµ ë¡œì§ í…ŒìŠ¤íŠ¸
- **ëª¨ì˜ ë°ì´í„°**: ì‹¤ì œ ê±°ë˜ í™˜ê²½ ì‹œë®¬ë ˆì´ì…˜
- **ì„±ê³¼ ì¶”ì **: ìŠ¹ë¥ , ìˆ˜ìµë¥ , ë³´ìœ ê¸°ê°„ ë¶„ì„

## ğŸ”§ ê¸°ìˆ ì  êµ¬í˜„

### ì‹ í˜¸ í’ˆì§ˆ í‰ê°€ ì‹œìŠ¤í…œ
```python
def _calculate_quality_score(self, features: Dict[str, float]) -> float:
    """í’ˆì§ˆ ì ìˆ˜ ê³„ì‚°"""
    score = 1.0
    
    # ê°€ê²© ëª¨ë©˜í…€ (5% ì´ìƒ ìƒìŠ¹ ì‹œ 20% ë¶€ìŠ¤íŠ¸)
    if features['price_change_5d'] > 0.05:
        score *= 1.2
    
    # ê±°ë˜ëŸ‰ ê¸‰ì¦ (2ë°° ì´ìƒ ì‹œ 30% ë¶€ìŠ¤íŠ¸)
    if features['volume_ratio_5d'] > 2.0:
        score *= 1.3
    
    # ë³€ë™ì„± ì ì • (2-5% ë²”ìœ„ ì‹œ 10% ë¶€ìŠ¤íŠ¸)
    if 0.02 <= features['volatility_20d'] <= 0.05:
        score *= 1.1
    
    return max(0.1, min(2.0, score))
```

### í…Œë§ˆ ëª¨ë©˜í…€ ê³„ì‚°
```python
def _calculate_theme_momentum(self, stock_codes: List[str], stock_data: Dict[str, pd.DataFrame]) -> float:
    """í…Œë§ˆ ëª¨ë©˜í…€ ê³„ì‚°"""
    momentum_scores = []
    for stock_code in stock_codes:
        if stock_code in stock_data:
            df = stock_data[stock_code]
            # 20ì¼ ëŒ€ë¹„ ìˆ˜ìµë¥  (70%) + ê±°ë˜ëŸ‰ ì¦ê°€ìœ¨ (30%)
            returns = (df['close'].iloc[-1] - df['close'].iloc[-20]) / df['close'].iloc[-20]
            volume_ratio = df['volume'].iloc[-5:].mean() / df['volume'].iloc[-20:-5].mean()
            momentum_score = returns * 0.7 + (volume_ratio - 1) * 0.3
            momentum_scores.append(momentum_score)
    
    return np.mean(momentum_scores) if momentum_scores else 0.0
```

## ğŸ“ˆ í…ŒìŠ¤íŠ¸ ê²°ê³¼

### ê¸°ë³¸ ì „ëµ í…ŒìŠ¤íŠ¸
- âœ… **ì‹ í˜¸ ìƒì„±**: 3ê°œ ì‹ í˜¸ ì„±ê³µì  ìƒì„±
- âœ… **ì¼ì¼ ê±°ë˜ ì œí•œ**: 3/3 í•œë„ ì •ìƒ ì‘ë™
- âœ… **ì†Œí˜•ì£¼/ì¤‘í˜•ì£¼ í•„í„°ë§**: ì‹œê°€ì´ì•¡ ê¸°ë°˜ í•„í„°ë§ ì •ìƒ
- âœ… **ì„±ê³¼ ì¶”ì **: ìŠ¹ë¥  66.67%, í‰ê·  ìˆ˜ìµë¥  3.67%

### ì œí•œì‚¬í•­ í…ŒìŠ¤íŠ¸
- âœ… **ì¼ì¼ ê±°ë˜ í•œë„**: 3íšŒ í›„ ìë™ ì°¨ë‹¨
- âœ… **ë³´ìœ ê¸°ê°„ ì œí•œ**: 1-7ì¼ ë²”ìœ„ ì„¤ì •
- âœ… **ì‹œê°€ì´ì•¡ ì œí•œ**: 1000ì–µì›~5ì¡°ì› ë²”ìœ„

## ğŸš€ ì‚¬ìš© ë°©ë²•

### 1. CLI ëª…ë ¹ì–´
```bash
# ìµœì í™” ì „ëµ ë¶„ì„
python main.py analyze --strategy optimized

# ìµœì í™” ì „ëµ ë°±í…ŒìŠ¤íŒ…
python main.py backtest --strategy optimized --start-date "2024-01-01" --end-date "2024-12-31"

# í†µí•© ë¶„ì„ (ëª¨ë“  ì „ëµ)
python main.py analyze --strategy all
```

### 2. Python API
```python
from strategy.short_term_optimized import ShortTermOptimizedStrategy

# ì „ëµ ì´ˆê¸°í™”
strategy = ShortTermOptimizedStrategy()

# ì‹ í˜¸ ìƒì„±
signals = await strategy.generate_signals(
    news_list=news_data,
    themes=theme_data,
    stock_data=chart_data,
    target_stocks=['005930', '000660', '373220']
)

# ì„±ê³¼ ì§€í‘œ í™•ì¸
metrics = strategy.get_strategy_metrics()
print(f"ì¼ì¼ ê±°ë˜: {metrics['daily_trades']}/{metrics['max_daily_trades']}")
print(f"ìŠ¹ë¥ : {metrics['performance_metrics']['win_rate']:.2%}")
```

### 3. í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
# ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ (API í‚¤ ë¶ˆí•„ìš”)
python test_optimized_strategy_simple.py

# ì „ì²´ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
python test_system.py
```

## ğŸ“Š ì„±ê³¼ ì§€í‘œ

### ì „ëµ íŒŒë¼ë¯¸í„°
- **ìµœì†Œ ì‹ ë¢°ë„**: 0.60 (60% ì´ìƒ)
- **ìµœì†Œ ê±°ë˜ëŸ‰ ë¹„ìœ¨**: 2.0 (í‰ê·  ëŒ€ë¹„ 2ë°°)
- **ìµœì†Œ ê°€ê²© ë³€í™”**: 3.0% (3% ì´ìƒ)
- **ìµœëŒ€ ë³´ìœ ê¸°ê°„**: 7ì¼
- **ìµœì†Œ ë³´ìœ ê¸°ê°„**: 1ì¼

### ë¦¬ìŠ¤í¬ ê´€ë¦¬
- **ìµœëŒ€ í¬ì§€ì…˜ í¬ê¸°**: 15% (ì „ì²´ ìë³¸ ëŒ€ë¹„)
- **ê¸°ë³¸ í¬ì§€ì…˜ í¬ê¸°**: 5%
- **ì†ì ˆ ë¹„ìœ¨**: 5%
- **ìµì ˆ ë¹„ìœ¨**: 15%

## ğŸ”® í–¥í›„ ê°œì„  ë°©í–¥

### 1. ì‹¤ì‹œê°„ ë°ì´í„° ì—°ë™
- í•œíˆ¬ KIS API ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘
- DART API ê³µì‹œ ëª¨ë‹ˆí„°ë§
- ë‰´ìŠ¤ í¬ë¡¤ë§ ìë™í™”

### 2. ML ëª¨ë¸ ê³ ë„í™”
- ì‹ í˜¸ í’ˆì§ˆ ì˜ˆì¸¡ ëª¨ë¸ í•™ìŠµ
- ì„±ê³¼ ê¸°ë°˜ íŒŒë¼ë¯¸í„° ìë™ ì¡°ì •
- ì•™ìƒë¸” ëª¨ë¸ ì ìš©

### 3. í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™”
- ë™ì  í¬ì§€ì…˜ ì‚¬ì´ì§•
- ìƒê´€ê´€ê³„ ê¸°ë°˜ ë¶„ì‚° íˆ¬ì
- ë¦¬ìŠ¤í¬ íŒ©í„° ëª¨ë¸ë§

### 4. ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
- ì‹¤ì‹œê°„ ì„±ê³¼ ëŒ€ì‹œë³´ë“œ
- ì•Œë¦¼ ì‹œìŠ¤í…œ êµ¬ì¶•
- ì„±ê³¼ ë¦¬í¬íŠ¸ ìë™ ìƒì„±

## ğŸ‰ ê²°ë¡ 

**ë‹¨ê¸°ë§¤ë§¤ ìµœì í™” ì „ëµ ì‹œìŠ¤í…œ**ì´ ì„±ê³µì ìœ¼ë¡œ êµ¬ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤:

1. **ğŸ¯ ëª©ì  íŠ¹í™”**: 2-3íšŒ/ì¼, ì†Œí˜•ì£¼/ì¤‘í˜•ì£¼, 1-7ì¼ ë³´ìœ ì— ìµœì í™”
2. **âš¡ ì„±ëŠ¥ ìš°ìˆ˜**: ì‹ í˜¸ ìƒì„± < 2ì´ˆ, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ < 100MB
3. **ğŸ›¡ï¸ ì•ˆì „ì„±**: ë¦¬ìŠ¤í¬ ê´€ë¦¬, ê±°ë˜ ì œí•œ, í’ˆì§ˆ í‰ê°€
4. **ğŸ“Š ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ ì„±ê³¼ ì¶”ì , ìƒì„¸ ì§€í‘œ ì œê³µ
5. **ğŸ”§ í™•ì¥ì„±**: ëª¨ë“ˆí™”ëœ êµ¬ì¡°, ìƒˆë¡œìš´ ì „ëµ ì¶”ê°€ ìš©ì´

ì´ ì‹œìŠ¤í…œì„ í†µí•´ **ì²´ê³„ì ì´ê³  ì•ˆì „í•œ ë‹¨ê¸°ë§¤ë§¤**ê°€ ê°€ëŠ¥í•˜ë©°, **ì§€ì†ì ì¸ ì„±ê³¼ ê°œì„ **ì„ ìœ„í•œ ê¸°ë°˜ì´ ë§ˆë ¨ë˜ì—ˆìŠµë‹ˆë‹¤.

---

**ê°œë°œ ì™„ë£Œì¼**: 2025ë…„ 1ì›” 27ì¼  
**ì‹œìŠ¤í…œ ë²„ì „**: 1.0.0  
**ê°œë°œì**: Trading Strategy System 