# us_realtime_derivatives.py - Test ëª¨ë“ˆ
# ì—­í• : Test ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ğŸ‡ºğŸ‡¸ ë¯¸êµ­ ì£¼ì‹ íŒŒìƒìƒí’ˆ ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘ ì‹œìŠ¤í…œ
===========================================
ì‹¤ì‹œê°„ ì˜µì…˜/ì„ ë¬¼ ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë° ë° ë¶„ì„
"""

import asyncio
import json
import logging
import os
import time
from dataclasses import dataclass, field
from datetime import datetime, timedelta
from typing import Dict, List, Optional, Callable, Any
import aiohttp
import websockets
import yfinance as yf
from dotenv import load_dotenv
import pandas as pd
import numpy as np

# í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ
load_dotenv()

logger = logging.getLogger(__name__)

@dataclass
class USDerivativeData:
    """ë¯¸êµ­ íŒŒìƒìƒí’ˆ ë°ì´í„° êµ¬ì¡°"""
    # ... (ì´ì „ ì½”ë“œ ë™ì¼)

@dataclass
class RealTimeConfig:
    """ì‹¤ì‹œê°„ ë°ì´í„° ì„¤ì •"""
    polygon_api_key: str
    alpha_vantage_api_key: str
    finnhub_api_key: str
    tradier_token: str
    max_connections: int = 5
    reconnect_delay: int = 5
    heartbeat_interval: int = 30
    
    @classmethod
    def from_env(cls) -> "RealTimeConfig":
        """í™˜ê²½ ë³€ìˆ˜ì—ì„œ ì„¤ì • ë¡œë“œ"""
        return cls(
            polygon_api_key=os.getenv('POLYGON_API_KEY', ''),
            alpha_vantage_api_key=os.getenv('ALPHA_VANTAGE_API_KEY', ''),
            finnhub_api_key=os.getenv('FINNHUB_API_KEY', ''),
            tradier_token=os.getenv('TRADIER_TOKEN', ''),
            max_connections=int(os.getenv('MAX_WS_CONNECTIONS', '5')),
            reconnect_delay=int(os.getenv('WS_RECONNECT_DELAY', '5')),
            heartbeat_interval=int(os.getenv('WS_HEARTBEAT_INTERVAL', '30'))
        )

# ... (ë‚˜ë¨¸ì§€ ì½”ë“œ ë™ì¼)
```
