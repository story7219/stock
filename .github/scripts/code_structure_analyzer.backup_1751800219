# code_structure_analyzer.py - Analysis Engine ëª¨ë“ˆ
# ì—­í• : Analysis Engine ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ

```python
"""
ğŸ—ï¸ ì½”ë“œ êµ¬ì¡° ë¶„ì„ê¸°
í”„ë¡œì íŠ¸ì˜ ì½”ë“œ êµ¬ì¡°ë¥¼ ë¶„ì„í•˜ê³  ì•„í‚¤í…ì²˜ í’ˆì§ˆì„ í‰ê°€í•˜ëŠ” ë„êµ¬
"""

import os
import sys
import json
import ast
import logging
from pathlib import Path
from typing import Dict, List, Any, Set, Tuple
from datetime import datetime
from collections import defaultdict, Counter
import re

# ë¡œê¹… ì„¤ì •
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s'
)
logger = logging.getLogger(__name__)

class CodeStructureAnalyzer:
    """ì½”ë“œ êµ¬ì¡° ë¶„ì„ê¸°"""
    
    def __init__(self, project_root: str = "."):
        self.project_root = Path(project_root)
        self.analysis_result = {
            'timestamp': datetime.now().isoformat(),
            'project_root': str(self.project_root),
            'modules': {},
            'dependencies': {},
            'metrics': {},
            'issues': [],
            'recommendations': []
        }
        
        logger.info(f"ğŸ—ï¸ ì½”ë“œ êµ¬ì¡° ë¶„ì„ê¸° ì´ˆê¸°í™” (í”„ë¡œì íŠ¸: {self.project_root})")
    
    def analyze_file_structure(self) -> Dict[str, Any]:
        """íŒŒì¼ êµ¬ì¡° ë¶„ì„"""
        logger.info("ğŸ“ íŒŒì¼ êµ¬ì¡° ë¶„ì„ ì¤‘...")
        
        structure = {
            'total_files': 0,
            'python_files': 0,
            'test_files': 0,
            'config_files': 0,
            'documentation_files': 0,
            'directories': [],
            'file_types': Counter(),
            'largest_files': [],
            'empty_files': []
        }
        
        for file_path in self.project_root.rglob('*'):
            if file_path.is_file():
                structure['total_files'] += 1
                
                suffix = file_path.suffix.lower()
                structure['file_types'][suffix] += 1
                
                file_size = file_path.stat().st_size
                
                if suffix == '.py':
                    structure['python_files'] += 1
                    if 'test' in file_path.name.lower() or \
                       file_path.parent.name == 'tests':
                        structure['test_files'] += 1
                    if file_size == 0:
                        structure['empty_files'].append(
                            str(file_path.relative_to(self.project_root))
                        )
                    structure['largest_files'].append({
                        'file': str(file_path.relative_to(self.project_root)),
                        'size': file_size,
                        'lines': self._count_lines(file_path)
                    })
                elif suffix in ['.ini', '.conf', '.cfg', '.json', '.yaml',
                               '.yml', '.toml']:
                    structure['config_files'] += 1
                elif suffix in ['.md', '.rst', '.txt']:
                    structure['documentation_files'] += 1
            elif file_path.is_dir():
                structure['directories'].append(
                    str(file_path.relative_to(self.project_root))
                )
        
        structure['largest_files'] = sorted(
            structure['largest_files'],
            key=lambda x: x['size'],
            reverse=True
        )[:10]
        
        return structure
    
    def _count_lines(self, file_path: Path) -> int:
        """íŒŒì¼ì˜ ë¼ì¸ ìˆ˜ ê³„ì‚°"""
        try:
            with open(file_path, 'r', encoding='utf-8', errors='ignore') as f:
                return len(f.readlines())
        except Exception as e:
            logger.error(f"íŒŒì¼ ì½ê¸° ì˜¤ë¥˜: {file_path}, ì—ëŸ¬: {e}")
            return 0
    # ... (ë‚˜ë¨¸ì§€ ì½”ë“œ ìƒëµ)
```
