# investall.py - Test ëª¨ë“ˆ
# ì—­í• : Test ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ğŸš€ í†µí•© íˆ¬ì ë¶„ì„ ì‹œìŠ¤í…œ v4.0 (Unified Investment Analysis System)
================================================================

ì½”ìŠ¤í”¼200Â·ë‚˜ìŠ¤ë‹¥100Â·S&P500 ì „ì²´ ì¢…ëª©ì„ ë¶„ì„í•˜ì—¬ íˆ¬ì ëŒ€ê°€ ì „ëµê³¼ 
Gemini AIê°€ Top5 ì¢…ëª©ì„ ìë™ ì„ ì •í•˜ëŠ” í†µí•© íˆ¬ì ë¶„ì„ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

ì£¼ìš” ê¸°ëŠ¥:
1. ë‹¤ì¤‘ ì‹œì¥ ì§€ì›
   - ì½”ìŠ¤í”¼200: í•œêµ­ ëŒ€í‘œ 200ê°œ ì¢…ëª©
   - ë‚˜ìŠ¤ë‹¥100: ë¯¸êµ­ ê¸°ìˆ ì£¼ ì¤‘ì‹¬ 100ê°œ ì¢…ëª©  
   - S&P500: ë¯¸êµ­ ëŒ€í‘œ 500ê°œ ì¢…ëª©

2. 15ê°œ íˆ¬ì ëŒ€ê°€ ì „ëµ êµ¬í˜„
   - ì›ŒëŸ° ë²„í•, ë²¤ì €ë¯¼ ê·¸ë ˆì´ì—„, í”¼í„° ë¦°ì¹˜ ë“±
   - ê° ì „ëµë³„ ë…ë¦½ì  ì ìˆ˜ ì‚°ì¶œ
   - ì „ëµë³„ íŠ¹í™”ëœ ì¢…ëª© ì„ ë³„ ê¸°ì¤€

3. ì¢…í•© ë¶„ì„ ì‹œìŠ¤í…œ
   - ê¸°ìˆ ì  ë¶„ì„: RSI, MACD, ë³¼ë¦°ì €ë°´ë“œ ë“±
   - ë‰´ìŠ¤ ê°ì • ë¶„ì„: ì‹¤ì‹œê°„ ë‰´ìŠ¤ ë°ì´í„° ë¶„ì„
   - Gemini AI ì¢…í•© íŒë‹¨: ëª¨ë“  ì§€í‘œë¥¼ ì¢…í•©í•œ AI ì¶”ë¡ 

4. ìƒì„¸ íˆ¬ì ì •ë³´ ì œê³µ
   - í˜„ì¬ê°€, ì§„ì…ê°€, ëª©í‘œê°€, ì†ì ˆê°€
   - ê¸°ëŒ€ ìˆ˜ìµë¥  ë° ìœ„í—˜ë„ í‰ê°€
   - íˆ¬ì ê¸°ê°„ ë° í¬ì§€ì…˜ í¬ê¸° ì œì•ˆ
   - ìƒì„¸í•œ íˆ¬ì ê·¼ê±° ë° í•µì‹¬ ì§€í‘œ

5. ìœ ì—°í•œ ë¶„ì„ ì˜µì…˜
   - ì „ëµë³„ ê°œë³„ ë¶„ì„ ê°€ëŠ¥
   - ì‹œì¥ë³„ ê°œë³„ ë¶„ì„ ê°€ëŠ¥
   - ì „ì²´ ì‹œì¥ í†µí•© ë¶„ì„ ê°€ëŠ¥
   - Top N ì¢…ëª© ì„ íƒ ê°€ëŠ¥

ì‚¬ìš© ì˜ˆì‹œ:
- ì›ŒëŸ° ë²„í• ì „ëµìœ¼ë¡œ ì½”ìŠ¤í”¼200 ë¶„ì„
- í”¼í„° ë¦°ì¹˜ ì „ëµìœ¼ë¡œ ë‚˜ìŠ¤ë‹¥100 ë¶„ì„
- ëª¨ë“  ì „ëµìœ¼ë¡œ ì „ì²´ ì‹œì¥ ë¶„ì„

ì´ ì‹œìŠ¤í…œì€ íˆ¬ì ì˜ì‚¬ê²°ì •ì„ ìœ„í•œ ì¢…í•©ì ì¸ ì •ë³´ë¥¼ ì œê³µí•˜ë©°,
ì‹¤ì œ íˆ¬ì ì‹œì—ëŠ” ì¶”ê°€ì ì¸ ë¦¬ì„œì¹˜ì™€ ì „ë¬¸ê°€ ìƒë‹´ì´ ê¶Œì¥ë©ë‹ˆë‹¤.
"""

from typing import Dict

# ... (ì´ì „ ì½”ë“œ)

    async def analyze_by_strategy_and_market(self, 
                                           strategy_name: str, 
                                           market: str = "ALL",
                                           top_n: int = 5) -> Dict[str, MarketAnalysisResult]:
        """íŠ¹ì • ì „ëµìœ¼ë¡œ íŠ¹ì • ì‹œì¥(ë˜ëŠ” ì „ì²´) ë¶„ì„"""
        # ... (ì´ì „ ì½”ë“œ)
        
        results: Dict[str, MarketAnalysisResult] = {}
        
        # ... (ë‚˜ë¨¸ì§€ ì½”ë“œ)
```
