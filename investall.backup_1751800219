# investall.py - Test 모듈
# 역할: Test 관련 기능 제공

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
🚀 통합 투자 분석 시스템 v4.0 (Unified Investment Analysis System)
================================================================

코스피200·나스닥100·S&P500 전체 종목을 분석하여 투자 대가 전략과 
Gemini AI가 Top5 종목을 자동 선정하는 통합 투자 분석 시스템입니다.

주요 기능:
1. 다중 시장 지원
   - 코스피200: 한국 대표 200개 종목
   - 나스닥100: 미국 기술주 중심 100개 종목  
   - S&P500: 미국 대표 500개 종목

2. 15개 투자 대가 전략 구현
   - 워런 버핏, 벤저민 그레이엄, 피터 린치 등
   - 각 전략별 독립적 점수 산출
   - 전략별 특화된 종목 선별 기준

3. 종합 분석 시스템
   - 기술적 분석: RSI, MACD, 볼린저밴드 등
   - 뉴스 감정 분석: 실시간 뉴스 데이터 분석
   - Gemini AI 종합 판단: 모든 지표를 종합한 AI 추론

4. 상세 투자 정보 제공
   - 현재가, 진입가, 목표가, 손절가
   - 기대 수익률 및 위험도 평가
   - 투자 기간 및 포지션 크기 제안
   - 상세한 투자 근거 및 핵심 지표

5. 유연한 분석 옵션
   - 전략별 개별 분석 가능
   - 시장별 개별 분석 가능
   - 전체 시장 통합 분석 가능
   - Top N 종목 선택 가능

사용 예시:
- 워런 버핏 전략으로 코스피200 분석
- 피터 린치 전략으로 나스닥100 분석
- 모든 전략으로 전체 시장 분석

이 시스템은 투자 의사결정을 위한 종합적인 정보를 제공하며,
실제 투자 시에는 추가적인 리서치와 전문가 상담이 권장됩니다.
"""

from typing import Dict

# ... (이전 코드)

    async def analyze_by_strategy_and_market(self, 
                                           strategy_name: str, 
                                           market: str = "ALL",
                                           top_n: int = 5) -> Dict[str, MarketAnalysisResult]:
        """특정 전략으로 특정 시장(또는 전체) 분석"""
        # ... (이전 코드)
        
        results: Dict[str, MarketAnalysisResult] = {}
        
        # ... (나머지 코드)
```
