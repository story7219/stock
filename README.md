# 🤖 PersonalBlackRock AI 투자 분석 시스템 (v4.0 - Enterprise Edition)

**6가지 투자 거장의 전략과 Gemini AI를 결합한 차세대 투자 분석 시스템**

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![AI](https://img.shields.io/badge/AI-Gemini%201.5-green.svg)](https://ai.google.dev/)
[![Strategy](https://img.shields.io/badge/Strategies-6%20Masters-gold.svg)](#-투자-전략)
[![News](https://img.shields.io/badge/News-Global%20Integration-red.svg)](#-글로벌-뉴스-통합)

## 📋 목차

1. [시스템 개요](#-시스템-개요)
2. [핵심 아키텍처](#-핵심-아키텍처)
3. [투자 전략](#-투자-전략)
4. [주요 기능](#-주요-기능)
5. [설치 및 설정](#-설치-및-설정)
6. [실행 방법](#-실행-방법)
7. [글로벌 뉴스 통합](#-글로벌-뉴스-통합)
8. [성능 최적화](#-성능-최적화)
9. [문제 해결](#-문제-해결)

---

## 🎯 시스템 개요

PersonalBlackRock은 **6가지 투자 거장의 전략**을 AI로 구현한 차세대 투자 분석 시스템입니다. 최신 Python 표준과 모범 사례를 적용하여 유지보수성과 성능을 극대화했으며, 국내외 뉴스를 통합 분석하여 균형잡힌 투자 판단을 제공합니다.

### 🌟 핵심 특징

- **🏛️ 투자 거장들의 전략**: 윌리엄 오닐, 워렌 버핏, 제시 리버모어, 피터 린치, 일목산인, 블랙록
- **🌍 글로벌 뉴스 통합**: 네이버증권(국내) + 인베스팅닷컴(해외) 동시 분석
- **🚀 최신 Python 표준**: 타입 힌트, 비동기 처리, 전략 패턴, 성능 최적화
- **🤖 Gemini AI 분석**: 다차원 데이터 종합 분석 및 투자 의사결정
- **📊 투명한 분석 과정**: 모든 판단 근거를 상세히 출력

---

## 🏛️ 핵심 아키텍처

### 전략 패턴 기반 모듈러 설계

```
personal_blackrock/
├── main.py                      # 메인 실행 파일
├── stock_data_manager.py        # 데이터 수집 및 관리 (리팩토링 완료)
├── ai_analyzer.py               # AI 분석 엔진 (리팩토링 완료)
├── strategies/                  # 투자 전략 모듈
│   ├── base_strategy.py         # 기본 전략 클래스 (Protocol 적용)
│   ├── blackrock_strategy.py    # 블랙록 기관 투자 전략
│   ├── william_oneil_strategy.py # 윌리엄 오닐 CAN-SLIM 전략
│   ├── warren_buffett_strategy.py # 워렌 버핏 가치 투자 전략
│   ├── jesse_livermore_strategy.py # 제시 리버모어 추세 추종 전략
│   ├── peter_lynch_strategy.py  # 피터 린치 GARP 전략
│   └── ichimoku_strategy.py     # 일목산인 차트 분석 전략
├── cache/                       # 캐시 및 샘플 데이터
└── requirements.txt             # 의존성 패키지
```

### 🔧 핵심 컴포넌트

#### 1. **DataManager** (데이터 관리 계층)
- **역할**: 다양한 소스에서 데이터 수집 및 통합 관리
- **주요 기능**:
  - pykrx를 통한 한국 주식 데이터 수집
  - 네이버 금융 뉴스 크롤링
  - 인베스팅닷컴 글로벌 뉴스 수집
  - 캐싱 시스템으로 성능 최적화
  - 병렬 처리로 데이터 수집 속도 향상

#### 2. **AIAnalyzer** (AI 분석 계층)
- **역할**: Gemini AI를 활용한 종합 투자 분석
- **주요 기능**:
  - 전략별 맞춤형 프롬프트 생성
  - 배치 처리를 통한 효율적 분석
  - 결과 검증 및 품질 보장
  - 비동기 처리로 성능 최적화

#### 3. **Strategy System** (전략 계층)
- **역할**: 6가지 투자 전략의 구현 및 관리
- **설계 패턴**: 전략 패턴(Strategy Pattern) 적용
- **확장성**: 새로운 전략 쉽게 추가 가능

---

## 📈 투자 전략

### 1. 🎯 윌리엄 오닐 (CAN-SLIM)
- **핵심**: 성장주 발굴 및 모멘텀 투자
- **분석 요소**: 수익 성장률, 신제품/서비스, 주도주 여부, 기관 수급

### 2. ⚡ 제시 리버모어 (추세 추종)
- **핵심**: 기술적 분석 및 추세 매매
- **분석 요소**: 차트 패턴, 거래량, 시장 심리, 브레이크아웃

### 3. 📊 일목산인 (일목균형표)
- **핵심**: 일목균형표를 활용한 차트 분석
- **분석 요소**: 구름대, 기준선, 전환선, 후행스팬

### 4. 💎 워렌 버핏 (가치 투자)
- **핵심**: 내재가치 대비 저평가 종목 발굴
- **분석 요소**: PER, PBR, ROE, 배당 수익률, 재무 건전성

### 5. 🚀 피터 린치 (GARP)
- **핵심**: 합리적 가격의 성장주 투자
- **분석 요소**: PEG 비율, 성장성, 경영진 역량, 업종 전망

### 6. 🏛️ 블랙록 (기관 투자)
- **핵심**: 기관 투자자 관점의 대형주 투자
- **분석 요소**: 시가총액, 유동성, ESG, 배당 정책

---

## 🚀 주요 기능

### 🌍 글로벌 뉴스 통합 분석
- **국내 뉴스**: 네이버 금융에서 실시간 뉴스 수집
- **해외 뉴스**: 인베스팅닷컴에서 글로벌 시각 뉴스 수집
- **통합 분석**: AI가 국내외 정보를 종합하여 균형잡힌 분석 제공

### ⚡ 성능 최적화
- **캐싱 시스템**: 중복 데이터 요청 최소화
- **병렬 처리**: 다중 종목 동시 분석
- **배치 처리**: 효율적인 AI 분석 실행
- **비동기 처리**: I/O 병목 현상 해결

### 🔒 안정성 및 신뢰성
- **에러 처리**: 포괄적인 예외 처리 및 복구 메커니즘
- **결과 검증**: AI 분석 결과의 품질 보장
- **로깅 시스템**: 상세한 실행 로그 및 디버깅 정보

### 🎨 사용자 경험
- **직관적 메뉴**: 간단한 숫자 선택으로 전략 선택
- **실시간 진행상황**: 분석 진행 과정 실시간 표시
- **상세 결과**: 투자 근거와 점수를 명확히 제시

---

## 🔧 설치 및 설정

### 1. 환경 구성

```bash
# 1. 리포지토리 클론 및 이동
git clone [repository_url]
cd personal_blackrock

# 2. 가상환경 생성 및 활성화
python -m venv .venv
# Windows
.venv\Scripts\activate
# Linux/macOS
source .venv/bin/activate

# 3. 필수 라이브러리 설치
pip install -r requirements.txt
```

### 2. 환경 변수 설정 (`.env` 파일)

프로젝트 루트 디렉터리에 `.env` 파일을 생성하고 아래 내용을 입력하세요:

```env
# Gemini AI API 키 (필수)
GEMINI_API_KEY="여기에_Gemini_API_키를_입력하세요"

# 한국투자증권 API 키 (선택사항 - 실제 거래 시 필요)
HANKOOK_API_KEY="여기에_한투_API_키를_입력하세요"
HANKOOK_API_SECRET="여기에_한투_API_시크릿을_입력하세요"
HANKOOK_ACCESS_TOKEN="여기에_액세스_토큰을_입력하세요"

# 텔레그램 알림 설정 (선택사항)
TELEGRAM_BOT_TOKEN="여기에_텔레그램_봇_토큰을_입력하세요"
TELEGRAM_CHAT_ID="여기에_텔레그램_챗_ID를_입력하세요"
```

### 3. API 키 발급처

| API | 발급처 | 용도 |
|-----|--------|------|
| **Gemini AI** | [Google AI Studio](https://aistudio.google.com/app/apikey) | AI 분석 (필수) |
| **한국투자증권** | [KIS Developers](https://apiportal.koreainvestment.com/) | 실제 거래 (선택) |
| **텔레그램** | [@BotFather](https://t.me/botfather) | 알림 (선택) |

---

## 🚀 실행 방법

### 기본 실행

```bash
python main.py
```

### 실행 과정

1. **전략 선택**: 6가지 투자 전략 중 선택
2. **데이터 수집**: 시가총액 상위 종목 데이터 수집
3. **AI 분석**: 선택한 전략으로 종목별 분석 수행
4. **결과 출력**: Top 10 추천 종목과 상세 분석 결과 표시
5. **포트폴리오 구성**: 상위 종목으로 포트폴리오 생성 (선택)

### 실행 예시

```
분석 방식을 선택하세요:
  1. 윌리엄 오닐 CAN SLIM
  2. 제시 리버모어 추세추종
  3. 일목산인 일목균형표
  4. 워렌 버핏 가치투자
  5. 피터 린치 GARP
  6. 블랙록 기관 투자

번호를 입력하세요 (1~6): 1

==================================================
PersonalBlackRock 투자 시스템을 시작합니다. (스타일: 윌리엄 오닐 CAN SLIM)
==================================================
🌍 글로벌 뉴스 통합 분석 기능 활성화
  • 네이버증권: 국내 시각의 실시간 뉴스
  • 인베스팅닷컴: 글로벌 시각의 해외 뉴스
  • 국내외 정보를 종합하여 균형잡힌 투자 분석
==================================================
```

---

## 🌍 글로벌 뉴스 통합

### 뉴스 소스

#### 🇰🇷 네이버 금융 (국내 시각)
- 국내 증권사 리포트
- 기업 공시 및 실적 발표
- 국내 시장 동향 및 이슈

#### 🌎 인베스팅닷컴 (글로벌 시각)
- 해외 투자은행 분석
- 글로벌 경제 동향
- 국제 시장 영향 요인

### 통합 분석 프로세스

```
1. 국내 뉴스 수집 → 2. 해외 뉴스 수집 → 3. AI 종합 분석 → 4. 균형잡힌 투자 판단
```

### 분석 결과 예시

```
=== 📰 종합 뉴스 분석 ===

🇰🇷 [국내 시각 - 네이버증권]
- 2024.01.15 [삼성증권] 삼성전자, 4분기 실적 컨센서스 상회 전망
- 2024.01.14 [한국경제] HBM3E 양산 본격화로 메모리 업황 개선 기대

🌍 [글로벌 시각 - Investing.com]
- 2024.01.15 [Global-Reuters] Samsung Electronics beats Q4 estimates
- 2024.01.14 [Global-Bloomberg] Memory chip demand recovery accelerates

💡 [분석 요약]
- 국내외 뉴스를 종합하여 다각도 분석 가능
- 글로벌 시장 동향과 국내 시장 반응 비교 분석
- 투자 결정 시 국내외 정보를 균형있게 고려
```

---

## ⚡ 성능 최적화

### 캐싱 전략
- **메모리 캐시**: 종목명, 뉴스 데이터 30분 캐시
- **파일 캐시**: 종합 데이터 JSON 형태로 저장
- **LRU 캐시**: 자주 사용되는 데이터 우선 보관

### 병렬 처리
- **데이터 수집**: 다중 종목 동시 처리
- **AI 분석**: 배치 단위 병렬 분석
- **뉴스 수집**: 국내외 뉴스 동시 수집

### 배치 최적화
```python
💡 AI 분석 최적화 설정:
   - 배치 크기: 8개씩 처리
   - 최대 재시도: 2회
   - 총 배치 수: 7개
```

---

## 📊 분석 결과 예시

### Top 10 추천 종목 출력

```
================================================================================
📈 윌리엄 오닐 CAN SLIM 스타일 투자분석 Top 10 📈
================================================================================

1위: 삼성전자(005930) | 종합 점수: 92점
   - 투자 결정: 투신 등급: High | 목표 수익률: 25%
   - 추천 진입가: 78,000-80,000원
   - 핵심 근거: HBM3E 양산으로 메모리 업황 개선, 기관 순매수 지속

2위: SK하이닉스(000660) | 종합 점수: 88점
   - 투자 결정: 투신 등급: High | 목표 수익률: 30%
   - 추천 진입가: 140,000-145,000원
   - 핵심 근거: AI 반도체 수요 급증, 차세대 메모리 기술 선도

...
```

### 텔레그램 알림

```
📊 *PersonalBlackRock 주식 추천 Top 3* 📊
====================

*1위: 삼성전자(005930)*
  - 종합 점수: 92점
  - 투자 결정: 투신 등급: High | 목표 수익률: 25%
  - 추천 진입가: 78,000-80,000원
  - 핵심 근거: HBM3E 양산으로 메모리 업황 개선

*2위: SK하이닉스(000660)*
  - 종합 점수: 88점
  - 투자 결정: 투신 등급: High | 목표 수익률: 30%
  - 핵심 근거: AI 반도체 수요 급증, 차세대 메모리 기술 선도
```

---

## 🔍 문제 해결

### 자주 발생하는 문제

#### 1. 모듈 설치 오류
```bash
# 해결 방법
pip install --upgrade pip
pip install -r requirements.txt
```

#### 2. API 키 오류
- `.env` 파일 위치 확인 (프로젝트 루트)
- API 키 형식 및 유효성 확인
- 따옴표 제거하고 키만 입력

#### 3. 데이터 수집 실패
- 네트워크 연결 상태 확인
- 방화벽 설정 확인
- 캐시 파일 삭제 후 재실행

#### 4. AI 분석 실패
- Gemini API 할당량 확인
- API 키 유효성 재확인
- 프롬프트 길이 제한 확인

### 로그 및 디버깅

```python
# 상세 로그 활성화
import logging
logging.basicConfig(level=logging.DEBUG)
```

### 성능 튜닝

```python
# 배치 크기 조정 (ai_analyzer.py)
config = AnalysisConfig(
    batch_size=4,  # 기본값: 8
    max_retries=3  # 기본값: 2
)
```

---

## 🔮 향후 계획

### v4.1 업데이트 예정
- [ ] 실시간 주가 알림 기능
- [ ] 백테스팅 시뮬레이션
- [ ] 포트폴리오 리밸런싱 자동화
- [ ] 웹 대시보드 UI

### v4.2 업데이트 예정
- [ ] 암호화폐 분석 지원
- [ ] 해외 주식 분석 확장
- [ ] 머신러닝 모델 통합
- [ ] API 서버 모드 지원

---

## 📜 라이선스

이 프로젝트는 교육 및 연구 목적으로 제작되었습니다.

**⚠️ 투자 경고**: 
- 모든 투자 결정의 책임은 투자자 본인에게 있습니다
- 실제 투자 전 충분한 검증과 테스트를 권장합니다
- 과거 성과가 미래 수익을 보장하지 않습니다

---

## 🤝 기여하기

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

---

## 📞 지원

문제가 발생하거나 질문이 있으시면:
- 🐛 [Issues](../../issues)에 버그 리포트 등록
- 💡 [Discussions](../../discussions)에서 아이디어 공유
- 📧 이메일을 통한 직접 문의

---

**🚀 Happy Investing with AI!** 🤖💰

*"투자의 미래는 AI와 함께합니다. PersonalBlackRock과 함께 스마트한 투자를 시작하세요."*
