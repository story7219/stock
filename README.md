# 자동매매 V5: 오디션 전략

> "시장은 예측하는 자에게가 아니라, 대응하는 자에게 기회를 연다."

## 제 1장: 서사시의 시작

이 기록은, 단순한 코드의 집합이 아니다. 이는 변화무쌍한 시장의 파도 속에서 살아남기 위한 처절한 투쟁의 기록이자, 가장 빛나는 기회를 포착하려는 탐구의 여정이다. 우리는 예측의 오만함을 버리고, 오직 시장의 목소리에 귀 기울여 가장 강력한 자를 가려내는 **'실시간 오디션'**이라는 새로운 길을 개척했다.

이 시스템은 정해진 규칙에 얽매이지 않는다. 매일 아침, 새로운 전장이 열리면 가장 치열한 곳으로 스스로 뛰어들어, 편견 없이 실력만으로 오늘의 주인공을 선발한다. 이것이 바로 **자동매매 V5, '오디션 전략'**의 핵심 철학이다.

---

## 제 2장: 시스템의 심장, 두 개의 검

우리의 전략은 두 개의 강력하고 예리한 검으로 이루어져 있다. 하나는 기회를 포착하는 '공격의 검'이고, 다른 하나는 위험을 베어내는 '방어의 검'이다.

### Ⅰ. 공격의 검: 실시간 오디션 (The Live Audition)

이것은 가장 공정하고, 가장 무자비한 선발 과정이다.

1.  **전장의 탐색 (`MarketPrism`)**: 시스템의 눈이 되는 `MarketPrism`은 코스피와 코스닥, 시장 전체를 샅샅이 훑는다. 돈의 흐름이 모이는 곳, 즉 거래대금과 수급이 폭발하는 그 중심지를 찾아낸다.
2.  **척후병 파견 (The Scouts)**: 가장 유망한 후보(기본 3종목)에게, 우리는 주저 없이 1주씩의 '척후병'을 파견한다. 이것은 단순한 관찰이 아닌, 실전의 피를 묻히는 첫 번째 시험이다.
3.  **오디션 개시 (The Contest)**: 척후병들은 각자의 위치에서 생존과 증명을 위한 싸움을 시작한다. 시스템은 이들의 모든 움직임을 냉정하게 지켜보며 성과를 실시간으로 측정한다.
4.  **최후의 승자 (The Winners)**: 오직 **설정된 수익률(기본 3%)** 이라는 첫 번째 관문을 통과한 자만이 '승자'의 자격을 논할 수 있다. 시스템은 이들 중에서도 가장 압도적인 성과를 보인 최대 2명의 최종 승자를 선발한다.
5.  **본대 투입 (The Commitment)**: 시험을 통과한 진정한 영웅들에게만, 우리는 비로소 본대의 깃발을 내린다. 약속된 자본(기본 12.5%씩)이 투입되는 순간, 이들은 우리의 포트폴리오를 이끌 주역으로 다시 태어난다. 오디션의 패배자들은? 일말의 미련도 없이 즉시 전장에서 퇴출된다.

### Ⅱ. 방어의 검: 듀얼 스탑 (The Dual Stop)

승리만큼 중요한 것은 살아남는 것이다. 이 두 자루의 방어 검은 우리의 생존을 보장한다.

1.  **시간의 검 (Time Stop)**: 우리의 선택이 틀렸을 수도 있음을 겸허히 인정하는 규칙. 척후병이 아닌, 본대가 투입된 종목이 **약속된 시간(기본 60분)** 안에 기대했던 폭발력을 보여주지 못한다면, 우리는 그 종목이 이익이든 손실이든 상관없이 미련 없이 관계를 끊는다. 시간은 가장 소중한 자원이기 때문이다.
2.  **가격의 검 (Price Stop)**: 우리의 자산을 지키는 최후의 보루. 그 어떤 이유도, 그 어떤 변명도 통하지 않는 절대적인 규칙이다. 매수 평균 단가 대비 **정해진 손실률(기본 -5%)** 에 도달하는 순간, 시스템은 강철같은 의지로 손절매를 실행하여 더 큰 위기로부터 우리를 지켜낸다.

---

## 제 3장: 왕국의 설계도 (아키텍처)

이 위대한 전략은 아래와 같이 정교하게 맞물려 돌아가는 모듈들의 합주로 완성된다.

```
.
├── 📄 config.py          # 왕국의 법전. 모든 전략의 변수를 이곳에서 통제.
├── 📄 main.py            # 모든 것을 시작하고 지휘하는 왕의 집무실.
├── 📄 portfolio.py       # 국고와 병사 명단(척후병/정규군)을 관리하는 재무부.
├── 📄 requirements.txt   # 왕국 건설에 필요한 자재 목록.
├── 📁 data/
│   └── fetcher.py       # 전 세계의 정보를 수집하는 정보 길드. (MarketPrism 포함)
├── 📁 trading/
│   ├── kis_api.py       # 외부 세계(증권사)와 통하는 유일한 관문.
│   └── trader.py        # 왕의 명령을 받아 군대를 움직이는 야전 사령관.
... (기타 지원 부대)
```

---

## 제 4장: 출정 준비 (설치 및 실행)

**1. 영토 확보 및 기반 공사**
```bash
git clone [저장소 주소]
cd [프로젝트 폴더]
python -m venv venv
# Windows: venv\Scripts\activate | MacOS/Linux: source venv/bin/activate
pip install -r requirements.txt
```

**2. 군자금 및 암호 설정 (`.env` 파일)**
- 프로젝트 폴더에 `.env` 파일을 만들고, `.env.example`을 참고하여 아래와 같이 비밀 통신을 위한 암호(API 키)와 군자금 계좌를 설정한다. **이 문서는 1급 기밀이므로, 절대 외부에 노출해서는 안 된다.**

```ini
# 한국투자증권 API 키 (모의투자/실전투자)
MOCK_KIS_APP_KEY="모의투자용 앱 키"
MOCK_KIS_APP_SECRET="모의투자용 앱 시크릿"
MOCK_KIS_ACCOUNT_NUMBER="계좌번호-01"

# 텔레그램 전령 봇
TELEGRAM_BOT_TOKEN="전령 봇의 토큰"
TELEGRAM_CHAT_ID="보고를 받을 개인 채널 ID"

# (선택) Gemini 및 Google Sheets API
GEMINI_API_KEY="..."
SPREADSHEET_ID="..."
```

**3. 출정 명령**
- `config.py` 법전을 열어, 오디션 규칙과 스탑로스 등 세부 전략을 최종 점검한다.
- 모든 준비가 끝나면, 아래의 명령으로 위대한 여정을 시작한다.

```bash
python main.py
```
- 여정을 멈추고 싶을 땐 `Ctrl+C`를 눌러 왕을 잠재운다.

---

이 문서는 단순한 사용 설명서가 아니다. 이것은 변화에 맞서고, 위험을 통제하며, 기회를 창조하는 우리만의 방식에 대한 선언이다. 이 길에 동참하는 모든 이에게 영광이 있기를. 