# stocksys.py - Test ëª¨ë“ˆ
# ì—­í• : Test ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ


"""
ğŸš€ í†µí•© ì£¼ì‹ ë¶„ì„ ì‹œìŠ¤í…œ
========================
í•œíˆ¬ API + Gemini AI + íˆ¬ì ëŒ€ê°€ ì „ëµ
"""

import os
import json
import pandas as pd
from datetime import datetime
from typing import Dict, List, Optional, Any
import time
import logging

# í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ (dotenvê°€ ì—†ëŠ” ê²½ìš° ëŒ€ë¹„)
try:
    from dotenv import load_dotenv
    load_dotenv()
except ImportError:
    pass

# ë¡œê¹… ì„¤ì •
logging.basicConfig(level=logging.INFO,
                    format='%(asctime)s - %(levelname)s - %(message)s')
logger = logging.getLogger(__name__)

# ... (ë‚˜ë¨¸ì§€ ì½”ë“œëŠ” ë™ì¼)

# kis_stock_analyzer ëª¨ë“ˆì´ ì—†ìœ¼ë¯€ë¡œ ê¸°ë³¸ êµ¬í˜„
class KISStockAnalyzer:
    """í•œíˆ¬ API ì£¼ì‹ ë¶„ì„ê¸° (ê¸°ë³¸ êµ¬í˜„)"""
    
    def __init__(self):
        """ì´ˆê¸°í™”"""
        self.api_key = os.getenv('KIS_API_KEY', 'dummy_key')
        self.api_secret = os.getenv('KIS_API_SECRET', 'dummy_secret')
        logger.info("í•œíˆ¬ API ë¶„ì„ê¸° ì´ˆê¸°í™” ì™„ë£Œ")
    
    # ... (ë‚˜ë¨¸ì§€ ì½”ë“œëŠ” ë™ì¼)


# gemini_ai_analyzer ëª¨ë“ˆì´ ì—†ìœ¼ë¯€ë¡œ ê¸°ë³¸ êµ¬í˜„
class GeminiAIAnalyzer:
    """Gemini AI ë¶„ì„ê¸° (ê¸°ë³¸ êµ¬í˜„)"""
    
    def __init__(self):
        """ì´ˆê¸°í™”"""
        self.api_key = os.getenv('GEMINI_API_KEY', 'dummy_key')
        self.model = None
        logger.info("Gemini AI ë¶„ì„ê¸° ì´ˆê¸°í™” ì™„ë£Œ")
    
    # ... (ë‚˜ë¨¸ì§€ ì½”ë“œëŠ” ë™ì¼)


# ì—­í• : í†µí•© ì£¼ì‹ ë¶„ì„ ì‹œìŠ¤í…œ ë©”ì¸ í´ë˜ìŠ¤
class IntegratedStockSystem:
    """í†µí•© ì£¼ì‹ ë¶„ì„ ì‹œìŠ¤í…œ"""
    
    def __init__(self):
        """ì´ˆê¸°í™”"""
        print("ğŸš€ í†µí•© ì£¼ì‹ ë¶„ì„ ì‹œìŠ¤í…œ ì´ˆê¸°í™”")
        
        # ì»´í¬ë„ŒíŠ¸ ì´ˆê¸°í™”
        self.kis_analyzer = KISStockAnalyzer()
        self.gemini_analyzer = GeminiAIAnalyzer()
        
        # ì‹œìŠ¤í…œ ìƒíƒœ
        self.last_data_collection = None
        self.collected_data = {}
        
        print("âœ… ëª¨ë“  ì»´í¬ë„ŒíŠ¸ ì´ˆê¸°í™” ì™„ë£Œ")
    
    # ... (ë‚˜ë¨¸ì§€ ì½”ë“œëŠ” ë™ì¼)
